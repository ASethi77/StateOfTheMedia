<html ng-app="StateOfTheMediaApp">
<head>

    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
</head>

<body ng-controller="StateOfTheMediaController as MainController">

<div class="container">
    <div class="row">
        <h1 class="text-center">Welcome to State Of The Media</h1>
    </div>
    <div class="row">
        <div class="col-md-8">
            <h2>Add articles for analysis</h2>
            <form>
                <div class="form-group">
                    <label>
                        Specify date article was published:
                        <input type="date"
                            ng-model="articleDate"></input>
                    </label>
                    <textarea name=""
                            id="article-text"
                            rows="10"
                            class="form-control"
                            placeholder="Paste the contents of a news article here"
                            ng-model="articleContent"></textarea>
                </div>
                <button type="button"
                        class="btn btn-success"
                        ng-click="MainController.addArticle(articleContent, articleDate)">Add Article
                </button>
                <button type="button"
                        class="btn btn-success"
                        ng-click="MainController.getApprovalRatings(articleDate)">Get Approval Ratings
                </button>
            </form>
        </div>
        <div class="col-md-4" style="height: 500px; overflow-y: scroll">
            <h2><br>Articles for day</h2>
            <p data-ng-show="MainController.approvalRatingPredicted[articleDate.toDateString()] === undefined">
                You have not added any articles for {{ articleDate.toLocaleDateString('en-US', MainController.dateFormattingOptions) }} yet!
            </p>
            <div class="panel panel-default" data-ng-repeat="article in MainController.articlesPerDay[articleDate.toDateString()] track by $index">
                <div class="panel-heading">Article {{ $index }}</div>
                <div class="panel-body"><strong>Article text: </strong>{{ article.articleText }}</div>
            </div>
        </div>
    </div>
    <div class="row" data-ng-hide="MainController.approvalRatingPredicted[articleDate.toDateString()] === undefined">
        <h2 class="text-center" class="ng-cloak">Analysis of News for {{ articleDate.toLocaleDateString('en-US',
            MainController.dateFormattingOptions) }}</h2>
        <div class="col-md-6">
            <h3 class="text-center">Sentiment Analysis</h3>
            <p class="ng-cloak">Today's news is <strong>{{ MainController.currentExpression[articleDate.toDateString()].expressionName }}</strong>.
            </p>
            <img ng-src="{{ MainController.currentExpression[articleDate.toDateString()].imgPath }}"
                 alt="{{ MainController.currentExpression[articleDate.toDateString()].expressionName }}"
                 ng-show="MainController.showExpression"
                 class="ng-cloak center-block img-responsive"/>
        </div>
        <div class="col-md-6">
            <h3 class="text-center">News Analysis</h3>
            <canvas id="radar" class="chart chart-radar"
                    chart-colors="['rgba(66,179,244,0.4)']"
                    chart-data="MainController.topicStrengths[articleDate.toDateString()]"
                    chart-labels="MainController.topicLabels[articleDate.toDateString()]">
            </canvas>
        </div>
        <div class="col-md-6">
            <h3 class="text-center">Predictions</h3>
            <ul>
                <li>
                    Predicted approval rating: {{ MainController.approvalRatingPredicted[articleDate.toDateString()] + "%" }}
                </li>
            </ul>
        </div>
    </div>
</div>
</body>

<script src="bower_components/jquery/dist/jquery.min.js"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="bower_components/chart.js/dist/Chart.min.js"></script>
<script src="bower_components/angular/angular.js"></script>
<script src="bower_components/angular-mocks/angular-mocks.js"></script>
<script src="bower_components/angular-cookies/angular-cookies.js"></script>
<script src="bower_components/angular-resource/angular-resource.min.js"></script>
<script src="bower_components/angular-chart.js/dist/angular-chart.min.js"></script>
<script src="app.js" type="application/javascript"></script>
</html>